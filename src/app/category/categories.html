<div class="container">
  <div class="page-header">
    <h1>Categories <a ui-sref="categories.add" class="btn btn-primary pull-right"><span class="glyphicon glyphicon-plus"></span> Ajouter</a></h1>
  </div>
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>#</th>
        <th>Nom</th>
        <th class="text-right">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="category in categories">
        <th>{{ $index + 1 }}</th>
        <td>
          <h4>{{ category.name }}</h4>
          <h5 ng-if="category.sub_categories.length">Sous-cat√©gories</h5>
          <table ng-if="category.sub_categories.length" class="table table-hover">
            <tbody>
              <tr ng-repeat="subCategory in category.sub_categories">
                <td>{{ subCategory.name }}</td>
                <td class="text-right">
                  <a ui-sref="categories.edit({ id: subCategory.id })" class="btn btn-warning btn-xs">
                    <span class="glyphicon glyphicon-edit"></span>
                  </a>
                  <button ng-click="delete(subCategory)" class="btn btn-danger btn-xs">
                    <span class="glyphicon glyphicon-remove"></span>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </td>
        <td class="text-right">
          <a ui-sref="categories.edit({ id: category.id })" class="btn btn-warning btn-xs">
            <span class="glyphicon glyphicon-edit"></span>
          </a>
          <button ng-click="delete(category)" class="btn btn-danger btn-xs">
            <span class="glyphicon glyphicon-remove"></span>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
